<!DOCTYPE html>
<html>
<head>
<script src="./jquery-2.1.1.min.js"></script>
<script src="./vue.js"></script>
<script src="test.js"></script>


  <meta charset="utf-8">
  <title>JS Bin</title>
</head>
<body>
<div id="example">
  <my-component></my-component>
</div>
<div id="app-4">

  <ol>
    <li v-for="todo in todos">
      {{ todo.text }}
    </li>
  </ol>
</div>
<!--<script src="main.js"></script>-->
      <script src="main.js"></script>
<script>
function rowHeights(rows){
	return rows.map(function(row){
		return row.reduce(function(max, cell){

			return Math.max(max,cell.minHeight());
		},0);
	});
}
function rowWidths(rows){
	return rows[0].map(function(_,i){
		return rows.reduce(function(max, row){
		//console.log(row[i].minWidth())
			return Math.max(max,row[i].minWidth());
		},0);
	});
}

function drawTable(rows){
	var heights =  rowHeights(rows);
	var widths = rowWidths(rows);
	console.log(rowHeights(rows))

	function drawLine(blocks, lineNo){
		return blocks.map(function(block){
			return block[lineNo]
		}).join(" ");
	}
	function drawRow(row, rowNum){
		var blocks = row.map(function(cell, colNum){
			return cell.draw(widths[colNum], heights[rowNum])
		});
		return blocks[0].map(function(_,lineNo){
			return drawLine(blocks, lineNo);
		}).join("\n");
	}
	return rows.map(drawRow).join("\n")
}
function repeat(string,times){
	var result = "";
	for(var i=0;i<times;i++){
		retult += string;
	}
	return result
}

function underlinedCell(inner){
  this.inner = inner;
}
underlinedCell.prototype.minWidth = function(){
  return this.inner.minWidth();
}
underlinedCell.prototype.minHeight =  function(){
  return this.inner.minHeight() + 1;
}
underlinedCell.prototype.draw = function(){
  return this.inner.draw(width, height - 1)
}
/*
function TextCell(text){
	this.text = text.split("\n");
}
TextCell.prototype.minWidth = function(){
	return this.text.reduce(function(width,line){
		return Math.max(width,line.length);
	},0);
};
TextCell.prototype.minHeight = function(){
	return this.text.length;
}
TextCell.prototype.draw = function(width,height){
	var result = [];
	for(var i=0;i<height;i++){
		var line =  this.text[i] || "";
		result.push(line + repeat(" ", width - line.length));
	}
	return result;

};
/*
 var rows = [];
	for(var i = 0; i < 15; i++){
		var row = [];
		for(var j = 0; j<15;j++){
			if((j+i)%2 == 0)
				row.push(new TextCell("##"));
			else
				row.push(new TextCell("  "));
		}
		rows.push(row);

	}*/
	console.log()
	console.log(drawTable(rows));
</script>



<script>
/*function speak(dice,saludo){
    console.log('El conejo '+this.tipo+' dice '+dice+' '+saludo)
}
var fatRabit = {tipo:'gordo'}
speak.apply({tipo:'gordo'},["hola","como estas"])
speak.call({tipo:'gordo'},"hola como estas","como estas")

let dragon =
	name =>
		size =>
			element =>
				name + " is a " +
				size + " dragon that breathes " +
				element + "!"

let animal = dragon("rocky")
console.log(animal("gran")("fuego"))

let multiplicadoPor = m => n =>	n * m

	let porTres = multiplicadoPor(3);
	console.log(porTres(9))
	*/


let animales = [{nombre:"loly",tipo:"perro", mascota:true, queHace:"muerde", nacimiento:2012},
				{nombre:"malta", tipo:"perro", mascota:true, queHace:"muerde", nacimiento:2015},
				{nombre:"yessi", tipo:"gato", mascota:true, queHace:"arana", nacimiento:2010},
				{nombre:"tita", tipo:"lagartija", mascota:true, queHace:"arana", nacimiento:2015},
				{nombre:"leo", tipo:"leon", mascota:false, queHace:"muerde", nacimiento:2012},
				{nombre:"aria", tipo:"gato", mascota:true, queHace:"arana", nacimiento:2014},
				{nombre:"jerome", tipo:"perro", mascota:true, queHace:"muerde", nacimiento:2013},
				{nombre:"darnia", tipo:"gato", mascota:true, queHace:"arana", nacimiento:2012},
				{nombre:"moto", tipo:"hipopotamo", mascota:false, queHace:"golpea", nacimiento:2015}]

/*console.log(animales.filter(animalito => animalito.queHace != "muerde").map(animalito => animalito.nombre + " es un " +animalito.tipo + " y este animalito " + animalito.queHace))
function average(array){
	function plus(a, b){console.log(a, b); return a+b}
	return array.reduce(plus) / array.length
}

console.log(average(animales.filter( p => p.queHace == "muerde").map( p => p.nacimiento)))*/

</script>
</body>
</html>
